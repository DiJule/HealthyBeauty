<h2 class="pure-u-1" style="text-align:center; margin:2em 0 1em;">Редагування профілю</h2>

<div class="pure-u-1 pure-u-md-2-3 pure-u-lg-1-2" style="margin:0 auto;">
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: "pure-form pure-form-stacked", style: "background:#fff; padding:2em; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.1);" }) do |f| %>

    <%= render "devise/shared/error_messages", resource: resource %>

    <label for="user_email">Email</label>
    <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "pure-input-1" %>

    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
      <p style="color:#888; font-size:0.9em;">Очікується підтвердження для: <%= resource.unconfirmed_email %></p>
    <% end %>

    <label for="user_password">Новий пароль <span style="font-weight:normal;">(залиште порожнім, якщо не змінюєте)</span></label>
    <%= f.password_field :password, autocomplete: "new-password", class: "pure-input-1" %>

    <% if @minimum_password_length %>
      <p style="color:#888; font-size:0.9em;">Мінімум <%= @minimum_password_length %> символів</p>
    <% end %>

    <label for="user_password_confirmation">Підтвердження пароля</label>
    <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "pure-input-1" %>

    <label for="user_current_password">Поточний пароль <span style="font-weight:normal;">(для підтвердження змін)</span></label>
    <%= f.password_field :current_password, autocomplete: "current-password", class: "pure-input-1" %>

    <div style="margin-top:2em; display:flex; gap:1em;">
      <%= f.submit "Оновити", class: "pure-button pure-button-primary" %>
      <%= link_to "Назад", root_path, class: "pure-button" %>
    </div>
  <% end %>
</div>
