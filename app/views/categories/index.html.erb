<div class="categories-page" style="background:#f8f8f8; max-width:1200px; margin:2em auto; padding:2em 1em; border-radius:18px;">
  <h1 class="section-title" style="text-align:center; font-size:2em; margin-bottom:1em;">
    <i class="fa fa-tags" style="color:#009a09;"></i> Категорії товарів
  </h1>
<div class="categories-grid">
    <% @categories.each do |category| %>
      <%= link_to products_path(category: category.id), style: 'text-decoration:none;' do %>
        <div class="category-tile" style="position:relative; width:100%; aspect-ratio:1/1; overflow:hidden; border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,0.1); transition:transform 0.3s;">
          <% if category.image.present? %>
            <img src="<%= category.image %>" alt="<%= category.name %>" style="width:100%; height:100%; object-fit:cover;">
          <% else %>
            <div style="width:100%; height:100%; background:#e0f7e9; display:flex; align-items:center; justify-content:center;">
              <i class="fa fa-tag" style="font-size:3em; color:#2ecc71;"></i>
            </div>
          <% end %>
          <div class="category-overlay">
            <h3><%= category.name %></h3>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<style>
  .category-tile {
    position: relative;
    width: 100%;
    aspect-ratio: 1/1;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    transition: transform 0.3s;
  }

  .category-tile:hover {
    transform: scale(1.03);
  }

  .category-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .category-tile:hover .category-overlay {
    opacity: 1;
  }

  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 2em;
    justify-content: center;
  }
</style>
